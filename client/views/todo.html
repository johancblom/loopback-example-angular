<form novalidate name="todoForm">
  <div class="row">
    <div class="col s12">
      <h3>Todo list</h3>
    </div>
    <hr class="col s12">
    <div class="col s12">
      <table id="todoTable">
        <thead>
        <tr>
          <th>Content</th>
          <th>Category</th>
          <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="item in todos" ng-hide="item.id == editedTodo.id">
          <td class="content">{{item.content}}</td>
          <td>{{item.category.name}}</td>
          <td>
            <button ng-click="startEdit(item)" ng-disabled="!canEdit(item)" class="btn btn-xs btn-primary">
              Edit
            </button>
            <button ng-click="removeTodo(item)" ng-disabled="!canEdit(item)" class="btn btn-xs btn-primary">
              Delete
            </button>
            <button ng-click="generatePDF(item)" class="btn btn-xs btn-primary">
              Save as PDF
            </button>
          </td>
        </tr>
        <tr ng-class="{danger: editedTodo}">
          <td class="input-field"><input ng-model="editedTodo.content" name="content" placeholder="content" required/></td>
          <td class="input-field">
            <select class="" ng-model="category" material-select watch required>
              <option ng-repeat="category in availableCategories" ng-value="category">{{category.name}}</option>
            </select>
          </td>
          <td>
            <button ng-hide="editedTodo.id"
                    ng-click="createTodo(editedTodo)"
                    ng-disabled="todoForm.$invalid"
                    class="btn btn-xs btn-primary">
              Create
            </button>
            <button ng-show="editedTodo.id"
                    ng-click="updateTodo(editedTodo)"
                    class="btn btn-xs btn-primary">
              Save
            </button>
            <button ng-show="editedTodo"
                    ng-click="cancelEdit()" class="btn btn-xs btn-primary">
              Cancel
            </button>
          </td>
        </tr>
        </tbody>
      </table>

      <button ng-click="generatePDF()" class="btn btn-primary">Generate PDF</button>
    </div>


  </div>
</form>

